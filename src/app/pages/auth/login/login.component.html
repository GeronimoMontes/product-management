<div
  *ngIf="loading"
  class="h-full w-full flex flex-row items-center justify-center absolute bg-slate-800 bg-opacity-60 z-40"
>
  <i class="animate-spin fas fa-spinner text-8xl"></i>
  <span class="sr-only">Loading...</span>
</div>
<div class="h-screen flex justify-center items-center">
  <div
    class="bg-white p-8 rounded-xl shadow-2xl w-96 sm:w-128 sm: mr-4 ml-4 md:w-160 lg:w-192"
  >
    <div class="flex items-center justify-center mb-4">
      <i class="fas fa-user-circle text-9xl text-blue-500"></i>
    </div>
    <form
      data-cy="cy-form-login"
      [formGroup]="formGroup"
      (submit)="formSubmit()"
    >
      <div class="mb-4">
        <label
          for="username"
          class="block text-gray-700 text-sm font-bold mb-2"
        >
          Nombre de usuario</label
        >
        <input
          data-cy="cy-input-username"
          type="text"
          id="username"
          name="username"
          formControlName="username"
          placeholder="Nombre de usuario"
          class="border rounded-xl w-full px-3 py-2 focus:border-blue-500 border-gray-300 focus:outline-none"
          [class.border-red-500]="controlValid('username')"
        />
        <div *ngIf="controlValid('username')" class="text-red-500 text-sm mt-1">
          {{ getError("username") }}
        </div>
      </div>
      <div class="mb-6">
        <label
          for="password"
          class="block text-gray-700 text-sm font-bold mb-2"
        >
          Contraseña
        </label>
        <input
          data-cy="cy-input-password"
          type="password"
          id="password"
          name="password"
          formControlName="password"
          class="border border-gray-300 rounded-xl w-full px-3 py-2 focus:outline-none focus:border-blue-500"
          placeholder="Contraseña"
          [class.border-red-500]="controlValid('password')"
        />
        <div *ngIf="controlValid('password')" class="text-red-500 text-sm mt-1">
          {{ getError("password") }}
        </div>
      </div>
      <button
        data-cy="cy-button-submit"
        type="submit"
        class="bg-blue-500 text-white px-4 py-2 rounded-xl hover:bg-blue-600 focus:outline-none focus:bg-blue-600"
      >
        Iniciar sesión
      </button>
      <div *ngIf="!!error_form_response" class="flex flex-row justify-center w-full rounded-sm border border-red-600 bg-red-400 font-bold text-red-950  m-auto mt-4 p-2">
        {{ error_form_response }}
      </div>
    </form>
  </div>
</div>
